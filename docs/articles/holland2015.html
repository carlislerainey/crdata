<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="crdata">
<title>Predictive Distribution • crdata</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predictive Distribution">
<meta property="og:description" content="crdata">
<meta property="og:image" content="https://www.carlislerainey.com/crdata/reference/figures/profile-tw.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@carlislerainey">
<meta name="twitter:site" content="@carlislerainey">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">crdata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/holland2015.html">Predictive Distribution</a>
    <a class="dropdown-item" href="../articles/weisiger2014.html">Logistic Regression with a Small Sample</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/carlislerainey/crdata/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Predictive Distribution</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/carlislerainey/crdata/blob/HEAD/vignettes/articles/holland2015.Rmd" class="external-link"><code>vignettes/articles/holland2015.Rmd</code></a></small>
      <div class="d-none name"><code>holland2015.Rmd</code></div>
    </div>

    
    
<p>In this short vignette, I show how I might use the
<code>holland2015</code> data set to illustrate a posterior predictive
distribution. I like to…</p>
<ol style="list-style-type: decimal">
<li>Fit the model.</li>
<li>Simulate fake data from the model.</li>
<li>Plot the fake data alongside the real data to understand ways in
which the model might not describe the observed data set well.</li>
</ol>
<p>It’s important to note that deviations between the fake and real data
may or may not matter for the conclusions, depending on the quantity of
interest. However, I’d suggest it’s usually “good to know” how the model
deviates from the data, regardless of whether that affects the
conclusions the author chooses to focus on.</p>
<p>In the example below, I focus on the Santiago cases from Holland’s
data, which are overdispersed relative to her model. Econometricians
have argued that this overdispersion is not a problem, so long as the
author uses robust standard errors (which Holland does).</p>
<p>Let me show you quickly how I might generate these fake data using
{rstanarm} and {tidybayes} with little data wrangling mixed in.</p>
<p>First, load the <code>holland2015</code> data set from my personal
{crdata} package on GitHub. Then subset to the Sanitago cases. These
cases have a bit of overdispersion, so it’s a good example.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># install (or update if needed) crdata package</span></span>
<span><span class="co">#devtools::install_github("carlislerainey/crdata")</span></span>
<span></span>
<span><span class="co"># load holland's data set and subset to santiago only</span></span>
<span><span class="va">santiago</span> <span class="op">&lt;-</span> <span class="fu">crdata</span><span class="fu">::</span><span class="va"><a href="../reference/holland2015.html">holland2015</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">city</span> <span class="op">==</span> <span class="st">"santiago"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># show the santiago observations</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">santiago</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 34</span></span>
<span><span class="co">#&gt; Columns: 7</span></span>
<span><span class="co">#&gt; $ city       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "santiago", "santiago", "santiago", "santiago", "santiago",…</span></span>
<span><span class="co">#&gt; $ district   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Cerrillos", "Cerro Navia", "Conchali", "El Bosque", "Estac…</span></span>
<span><span class="co">#&gt; $ operations <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 12, 0, 0, 0, 1, 1, 0, 10, 1, 5, 0, 0, 0, 4, 4, …</span></span>
<span><span class="co">#&gt; $ lower      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 52.2, 69.8, 54.8, 58.4, 43.6, 58.3, 41.0, 38.3, 36.7, 60.1,…</span></span>
<span><span class="co">#&gt; $ vendors    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.50, 0.60, 5.00, 1.20, 1.00, 0.30, 0.05, 1.25, 2.21, 0.70,…</span></span>
<span><span class="co">#&gt; $ budget     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 337.24, 188.87, 210.71, 153.76, 264.43, 430.42, 312.75, 255…</span></span>
<span><span class="co">#&gt; $ population <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6.6160, 13.3943, 10.7246, 16.8302, 11.1702, 8.5761, 5.1277,…</span></span></code></pre></div>
<p>Next, fit the model with {rstanarm}. This model reproduces the
results for Model 1 in her Table 2. Not, though, that Holland uses
rescaled and exponentiated coefficients, so the coefficients won’t
agree.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mc-stan.org/rstanarm/" class="external-link">rstanarm</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># formula corresponds to model 1 for each city in holland (2015) table 2</span></span>
<span><span class="va">f</span> <span class="op">&lt;-</span> <span class="va">operations</span> <span class="op">~</span> <span class="va">lower</span> <span class="op">+</span> <span class="va">vendors</span> <span class="op">+</span> <span class="va">budget</span> <span class="op">+</span> <span class="va">population</span></span>
<span></span>
<span><span class="co"># fit poisson regression model using Stan</span></span>
<span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://mc-stan.org/rstanarm/reference/stan_glm.html" class="external-link">stan_glm</a></span><span class="op">(</span><span class="va">f</span>, family <span class="op">=</span> <span class="va">poisson</span>, data <span class="op">=</span> <span class="va">santiago</span>, </span>
<span>                cores <span class="op">=</span> <span class="fl">4</span>, chains <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p>Next, use <code><a href="http://mjskay.github.io/tidybayes/reference/add_predicted_draws.html" class="external-link">add_predicted_draws()</a></code> from the {tidybayes}
package to add fake observations to the original dataset. Then we need
to do a bit of wrangling to get those fake and observed data ready
for</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load packages</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mjskay.github.io/tidybayes/" class="external-link">tidybayes</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># simulate 11 fake observations </span></span>
<span><span class="va">fake</span> <span class="op">&lt;-</span> <span class="va">santiago</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="http://mjskay.github.io/tidybayes/reference/add_predicted_draws.html" class="external-link">add_predicted_draws</a></span><span class="op">(</span><span class="va">fit</span>, ndraws <span class="op">=</span> <span class="fl">11</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 374</span></span>
<span><span class="co">#&gt; Columns: 12</span></span>
<span><span class="co">#&gt; Groups: city, district, operations, lower, vendors, budget, population, .row [34]</span></span>
<span><span class="co">#&gt; $ city        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "santiago", "santiago", "santiago", "santiago", "santiago"…</span></span>
<span><span class="co">#&gt; $ district    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Cerrillos", "Cerrillos", "Cerrillos", "Cerrillos", "Cerri…</span></span>
<span><span class="co">#&gt; $ operations  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…</span></span>
<span><span class="co">#&gt; $ lower       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2…</span></span>
<span><span class="co">#&gt; $ vendors     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.6…</span></span>
<span><span class="co">#&gt; $ budget      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 337.24, 337.24, 337.24, 337.24, 337.24, 337.24, 337.24, 33…</span></span>
<span><span class="co">#&gt; $ population  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6.6160, 6.6160, 6.6160, 6.6160, 6.6160, 6.6160, 6.6160, 6.…</span></span>
<span><span class="co">#&gt; $ .row        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2…</span></span>
<span><span class="co">#&gt; $ .chain      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ .iteration  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</span></span>
<span><span class="co">#&gt; $ .draw       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 1, 2, 3, 4, 5, 6, 7, 8,…</span></span>
<span><span class="co">#&gt; $ .prediction <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 4, 1, 2, 0, 2, 3, 0, 1, 1, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 2…</span></span>
<span></span>
<span><span class="co"># wrangle fake data for plotting</span></span>
<span><span class="va">gg_fake</span> <span class="op">&lt;-</span> <span class="va">fake</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># pivot real and fake data into the same column</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">operations</span>, <span class="va">.prediction</span><span class="op">)</span>, </span>
<span>               names_to <span class="op">=</span> <span class="st">"type"</span>, </span>
<span>               values_to <span class="op">=</span> <span class="st">"operations"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># label each observation type; real or fake + simulation number</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>obs_type <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"operations"</span> <span class="op">~</span> <span class="st">"Real Data"</span>, </span>
<span>                              <span class="va">type</span> <span class="op">==</span> <span class="st">".prediction"</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Fake Data #"</span>, <span class="va">.draw</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># remove duplicated real data observations (above produces one per draw)</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">obs_type</span> <span class="op">==</span> <span class="st">"Real Data"</span> <span class="op">&amp;</span> <span class="va">.draw</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># make .draw = 0 for real data</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>.draw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">obs_type</span> <span class="op">==</span> <span class="st">"Real Data"</span>, <span class="fl">0</span>, <span class="va">.draw</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># order obs_type by draw number</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>obs_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">obs_type</span>, <span class="va">.draw</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 408</span></span>
<span><span class="co">#&gt; Columns: 13</span></span>
<span><span class="co">#&gt; $ city       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "santiago", "santiago", "santiago", "santiago", "santiago",…</span></span>
<span><span class="co">#&gt; $ district   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Cerrillos", "Cerrillos", "Cerrillos", "Cerrillos", "Cerril…</span></span>
<span><span class="co">#&gt; $ lower      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2, 52.2,…</span></span>
<span><span class="co">#&gt; $ vendors    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5,…</span></span>
<span><span class="co">#&gt; $ budget     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 337.24, 337.24, 337.24, 337.24, 337.24, 337.24, 337.24, 337…</span></span>
<span><span class="co">#&gt; $ population <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6.6160, 6.6160, 6.6160, 6.6160, 6.6160, 6.6160, 6.6160, 6.6…</span></span>
<span><span class="co">#&gt; $ .row       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2,…</span></span>
<span><span class="co">#&gt; $ .chain     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ .iteration <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ .draw      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2, 3, 4, 5, 6, …</span></span>
<span><span class="co">#&gt; $ type       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "operations", ".prediction", ".prediction", ".prediction", …</span></span>
<span><span class="co">#&gt; $ operations <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 4, 1, 2, 0, 2, 3, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1,…</span></span>
<span><span class="co">#&gt; $ obs_type   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> Real Data, Fake Data #1, Fake Data #2, Fake Data #3, Fake D…</span></span>
<span></span>
<span><span class="co"># plot fake data</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">gg_fake</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">lower</span>, y <span class="op">=</span> <span class="va">operations</span>, color <span class="op">=</span> <span class="va">type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">obs_type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">21</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Illustrating Posterior Predictive Distribution"</span>, </span>
<span>       x <span class="op">=</span> <span class="st">"Share of Lower-Class Residents in a District"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Number of Enforcement Operations"</span><span class="op">)</span></span></code></pre></div>
<p><img src="holland2015_files/figure-html/Simulate%20fake%20data%20sets-1.png" width="700">
This figure shows that the real data noticeably differ from the Poisson
model. For districts with few lower-class residents, the real data have
a <em>much</em> larger variance than the model suggestions. If you
repeat this exercise for Lima or Bogota, you will find much better
correspondence between the two.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.carlislerainey.com/" class="external-link">Carlisle Rainey</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
